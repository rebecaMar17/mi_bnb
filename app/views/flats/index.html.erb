<div style="font-family: sans-serif; padding: 20px;">
  <h1>Descubre alojamientos únicos</h1>

  <div style="display: flex; gap: 20px; flex-wrap: wrap;">
    <% @flats.each do |flat| %>
      
      <div style="border: 1px solid #ddd; border-radius: 10px; padding: 15px; width: 250px; box-shadow: 2px 2px 5px rgba(0,0,0,0.1); background: white;">
        
        <% if flat.picture_url.present? %>
          <img src="<%= flat.picture_url %>" style="width: 100%; height: 150px; object-fit: cover; border-radius: 8px; margin-bottom: 10px;">
        <% else %>
          <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?q=80&w=2070&auto=format&fit=crop" style="width: 100%; height: 150px; object-fit: cover; border-radius: 8px; margin-bottom: 10px; filter: grayscale(100%);">
        <% end %>

        <h2 style="font-size: 18px; margin: 10px 0 0 0;"><%= flat.name %></h2>
        
        <p style="color: #717171; font-size: 14px; margin-top: 5px;">
          <%= truncate(flat.description, length: 50) %>
        </p>
        
        <p style="font-weight: bold; font-size: 16px;">
          <%= flat.price_per_night %> € <span style="font-weight: normal;">noche</span>
        </p>

        <%= link_to "Ver detalles", flat, style: "text-decoration: none; color: #ff385c; font-weight: 500;" %>
      
      </div>
      <% end %>
  </div>

  <br>
  <%= link_to "Publicar nuevo piso", new_flat_path, style: "background-color: #ff385c; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; font-weight: bold;" %>
</div>